# Gm Oncahin SVG 

This repo consists of the contracts deployed for the https://gm.graphics project.

Gm onchain is a collection of randomly seeded ascii-art svgs of the phrase gm all generated and rendered completely on the ethereum blockchain.

### Contracts
* [Erc721Base](contracts/TestBase.sol)
* [CourierFont](contracts/CourierFont.sol)
* [GmData1](contracts/GmData1.sol)
* [GmData2](contracts/GmData2.sol)
* [GmRenderer](contracts/GmRenderer.sol)
* [GM](contracts/Gm.sol)

### Nerdy Stuff

#### ERC721Base and Delegated Contracts
TODO

#### Courier Font
To properly render the ascii svgs we needed to be able to encode a font in bas64.
Inspired by [Corruptions](https://etherscan.io/address/0x5BDf397bB2912859Dbd8011F320a222f79A28d2E) we opted to 
deploy our own font. We encoded a compressed version of a Courier Monospace font for just the basic character
set into the Courier Font [contract](contracts/CourierFont.sol)

#### GmData
For any good random generator you must have ample styles to randomly choose from. We settled on 69 different ascii styles
provided by [this](https://github.com/patorjk/figlet.js/) open-source js implementation of the figlet ascii lib.

Encoding 69 different styles of `gm` requires quite a bit of storage. In order to compress the 69 different svgs
we used [Inflate Lib](contracts/InflateLib.sol). 

#### GmRenderer

TODO

#### Gm

In order to generate each gm's svg we only create and store a single 32 byte seed that is then used  by the renderer
to generate and render the unique nft.

The seed is generated by taking the `keccak` of TODO

The seed is used to generate the image:
* first 4 bytes -- background hue
* second 4 bytes -- font hue 
* third 4 bytes -- background saturation
* fourth 4 bytes -- font saturation
* fifth 4 bytes -- determine if calculated lightness % should be by font or background
* sixth 4 bytes -- calculated lightness range 
* seventh 4 bytes -- ascii style

### Deployments

Located in [deployments](deployments) directory

### Set Up
```
yarn install
yarn ts-node scripts/generate-ascii.ts
yarn ts-node scripts/import-ascii.ts
```

### Tests
 ``yarn test``
 

### Deploy

```
yarn hardhat deploy â€”network <network>
```